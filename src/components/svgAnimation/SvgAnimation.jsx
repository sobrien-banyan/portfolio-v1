import React, { useState, useContext } from "react";
import { MainContext } from "../Context";
import { useSpring, animated } from "@react-spring/web";

import styles from "./styles.module.css";

const AnimFeTurbulence = animated("feTurbulence");
const AnimFeDisplacementMap = animated("feDisplacementMap");

export default function SvgAnimation() {
  const store = useContext(MainContext);
  const [open, toggle] = useState(false);
  const { freq, factor, scale, opacity } = useSpring({
    reverse: open,
    from: { factor: 10, opacity: 0, scale: 0.9, freq: "0.0175, 0.0" },
    to: { factor: 150, opacity: 1, scale: 1, freq: "0.0, 0.0" },
    config: { duration: 3000 },
  });
  
  window.onscroll = () => {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      toggle(true)
    } else {
      toggle(false)
    }
  }

  return (
    <div className={styles.svgwrapper}>
      <div className={styles.svgcontainer} onClick={() => toggle(!open)}>
        <animated.svg
          className={styles.svg}
          style={{ scale, opacity }}
          viewBox="0 0 1278 160"
        >
          <defs>
            <filter id="water">
              <AnimFeTurbulence
                type="fractalNoise"
                baseFrequency={freq}
                numOctaves="2"
                result="TURB"
                seed="8"
              />
              <AnimFeDisplacementMap
                xChannelSelector="R"
                yChannelSelector="G"
                in="SourceGraphic"
                in2="TURB"
                result="DISP"
                scale={factor}
              />
            </filter>
          </defs>

          <g 
          // filter="url(#water)" 
          strokeLinecap="round" fillRule="evenodd" fontSize="9pt" stroke="#000" strokeWidth="0.25mm" fill={store.themeBoolean ? store.darkTheme.color : store.lightTheme.color} ><animated.path d="M 145.508 148.535 L 119.922 148.535 L 119.922 1.66 L 145.508 0 L 145.508 30.957 A 80.174 80.174 0 0 1 145.498 32.079 Q 145.456 34.876 145.251 42.129 A 2993.714 2993.714 0 0 1 145.215 43.408 A 30741.684 30741.684 0 0 0 145.146 45.803 Q 144.922 53.638 144.922 53.809 A 41.768 41.768 0 0 1 175.327 38.708 A 57.824 57.824 0 0 1 179.297 38.574 A 50.236 50.236 0 0 1 190.684 39.788 Q 199.03 41.73 204.948 46.776 A 31.049 31.049 0 0 1 207.178 48.877 A 31.738 31.738 0 0 1 214.123 60.482 Q 215.873 65.427 216.591 71.526 A 77.46 77.46 0 0 1 217.09 80.566 L 217.09 148.535 L 191.504 148.535 L 191.504 83.398 Q 191.504 70.215 187.305 64.063 A 13.232 13.232 0 0 0 180.072 58.868 Q 177.015 57.91 173.047 57.91 A 28.876 28.876 0 0 0 163.647 59.402 A 25.935 25.935 0 0 0 157.812 62.256 A 27.625 27.625 0 0 0 147.852 73.438 A 60.997 60.997 0 0 0 146.517 80.26 Q 145.508 87.39 145.508 96.875 L 145.508 148.535 Z M 0 138.574 L 6.445 117.578 Q 15.625 122.656 26.416 125.781 A 78.518 78.518 0 0 0 41.569 128.652 A 69.032 69.032 0 0 0 47.461 128.906 A 46.791 46.791 0 0 0 54.566 128.403 Q 62.022 127.255 66.504 123.486 A 17.554 17.554 0 0 0 72.439 113.248 A 26.516 26.516 0 0 0 72.949 107.91 A 16.29 16.29 0 0 0 65.211 93.797 Q 61.157 91.037 54.98 89.258 Q 53.793 88.892 48.586 87.372 A 3533.144 3533.144 0 0 0 47.852 87.158 A 610.83 610.83 0 0 1 42.175 85.474 A 504.762 504.762 0 0 1 36.865 83.838 A 282.04 282.04 0 0 1 34.482 83.078 Q 31.341 82.06 29.664 81.414 A 33.834 33.834 0 0 1 29.492 81.348 Q 0.684 71.191 0.684 43.457 A 43.688 43.688 0 0 1 2.468 30.637 A 33.443 33.443 0 0 1 14.502 13.477 A 48.613 48.613 0 0 1 31.733 5.247 Q 40.46 2.93 51.172 2.93 A 106.059 106.059 0 0 1 72.451 4.967 A 79.047 79.047 0 0 1 95.801 13.574 L 87.793 32.91 A 109.569 109.569 0 0 0 72.13 27.189 Q 63.356 24.765 55.232 24.387 A 64.128 64.128 0 0 0 52.246 24.316 A 53.827 53.827 0 0 0 45.742 24.682 Q 38.768 25.534 34.569 28.368 A 15.96 15.96 0 0 0 34.424 28.467 Q 28.895 32.288 28.125 40.786 A 30.085 30.085 0 0 0 28.027 42.285 Q 28.027 54.199 39.844 57.813 Q 42.037 58.635 50.215 61.253 A 1385.511 1385.511 0 0 0 51.367 61.621 Q 58.866 64.014 62.064 65.039 A 1475.342 1475.342 0 0 1 63.281 65.43 Q 82.796 71.838 91.259 81.334 A 31.268 31.268 0 0 1 91.357 81.445 Q 99.805 91.016 99.805 108.105 A 45.941 45.941 0 0 1 97.938 121.558 A 34.825 34.825 0 0 1 85.352 139.502 A 50.251 50.251 0 0 1 68.384 147.742 Q 58.643 150.488 46.387 150.488 A 96.378 96.378 0 0 1 17.549 146.288 A 85.46 85.46 0 0 1 0 138.574 Z M 492.969 148.535 L 467.383 148.535 L 467.383 41.211 L 487.988 41.211 L 490.82 54.785 A 61.62 61.62 0 0 1 504.189 44.594 A 46.837 46.837 0 0 1 527.246 38.574 A 51.781 51.781 0 0 1 538.045 39.628 Q 544.666 41.041 549.633 44.348 A 27.973 27.973 0 0 1 555.322 49.365 A 34.845 34.845 0 0 1 562.012 61.602 Q 563.66 66.7 564.278 72.872 A 78.274 78.274 0 0 1 564.648 80.664 L 564.648 148.535 L 538.965 148.535 L 538.965 83.789 A 67.028 67.028 0 0 0 538.593 77.001 Q 537.809 69.857 535.38 65.4 A 17.864 17.864 0 0 0 534.766 64.355 A 12.889 12.889 0 0 0 527.836 59.057 Q 525.55 58.269 522.712 58.022 A 31.139 31.139 0 0 0 520.02 57.91 A 28.355 28.355 0 0 0 504.834 62.158 A 28.777 28.777 0 0 0 498.889 66.956 A 23.755 23.755 0 0 0 494.824 72.852 A 48.121 48.121 0 0 0 493.927 77.785 Q 492.969 84.918 492.969 96.289 L 492.969 148.535 Z M 1200.977 148.535 L 1175.391 148.535 L 1175.391 41.211 L 1195.996 41.211 L 1198.828 54.785 A 61.62 61.62 0 0 1 1212.197 44.594 A 46.837 46.837 0 0 1 1235.254 38.574 A 51.781 51.781 0 0 1 1246.052 39.628 Q 1252.674 41.041 1257.641 44.348 A 27.973 27.973 0 0 1 1263.33 49.365 A 34.845 34.845 0 0 1 1270.019 61.602 Q 1271.667 66.7 1272.285 72.872 A 78.274 78.274 0 0 1 1272.656 80.664 L 1272.656 148.535 L 1246.973 148.535 L 1246.973 83.789 A 67.028 67.028 0 0 0 1246.601 77.001 Q 1245.817 69.857 1243.388 65.4 A 17.864 17.864 0 0 0 1242.773 64.355 A 12.889 12.889 0 0 0 1235.844 59.057 Q 1233.557 58.269 1230.72 58.022 A 31.139 31.139 0 0 0 1228.027 57.91 A 28.355 28.355 0 0 0 1212.842 62.158 A 28.777 28.777 0 0 0 1206.897 66.956 A 23.755 23.755 0 0 0 1202.832 72.852 A 48.121 48.121 0 0 0 1201.935 77.785 Q 1200.977 84.918 1200.977 96.289 L 1200.977 148.535 Z M 351.172 109.473 L 351.172 41.211 L 376.855 41.211 L 376.855 108.496 A 45.34 45.34 0 0 0 377.248 114.688 Q 378.219 121.71 381.594 125.559 A 13.307 13.307 0 0 0 381.885 125.879 Q 386.914 131.25 397.852 131.25 A 34.283 34.283 0 0 0 403.576 130.805 Q 410.019 129.712 413.525 125.928 A 15.622 15.622 0 0 0 416.602 120.796 Q 418.339 116.232 418.45 109.429 A 57.548 57.548 0 0 0 418.457 108.496 L 418.457 41.211 L 444.043 41.211 L 444.043 109.473 Q 444.043 129.59 431.25 140.088 A 44.525 44.525 0 0 1 413.201 148.853 Q 406.607 150.451 398.877 150.575 A 81.687 81.687 0 0 1 397.559 150.586 A 67.982 67.982 0 0 1 383.311 149.177 Q 374.105 147.204 367.055 142.469 A 41.016 41.016 0 0 1 363.916 140.137 Q 351.172 129.688 351.172 109.473 Z M 856.934 148.535 L 803.906 148.535 L 803.906 5.469 L 848.535 5.469 Q 873.921 5.469 887.774 12.093 A 39.501 39.501 0 0 1 890.918 13.77 A 27.43 27.43 0 0 1 904.215 33.475 A 44.652 44.652 0 0 1 904.883 41.406 Q 904.883 44.531 904.492 47.559 A 26.421 26.421 0 0 1 903.967 50.353 Q 903.623 51.78 903.106 53.355 A 49.115 49.115 0 0 1 902.734 54.443 A 28.063 28.063 0 0 1 899.602 60.733 A 26.06 26.06 0 0 1 899.121 61.426 Q 896.875 64.551 892.871 67.529 A 29.214 29.214 0 0 1 886.487 71.098 A 35.493 35.493 0 0 1 883.496 72.168 A 42.655 42.655 0 0 1 893.256 75.761 A 31.617 31.617 0 0 1 903.809 84.521 Q 910.84 93.652 910.84 107.031 A 45.422 45.422 0 0 1 909.072 120.062 A 33.734 33.734 0 0 1 896.533 137.891 A 49.107 49.107 0 0 1 881.01 145.442 Q 874.484 147.375 866.711 148.1 A 105.371 105.371 0 0 1 856.934 148.535 Z M 1154.492 100.098 L 1083.105 100.098 A 47.738 47.738 0 0 0 1084.211 109.436 Q 1086.137 117.909 1091.357 123.389 A 25.919 25.919 0 0 0 1105.31 130.909 A 38.274 38.274 0 0 0 1112.988 131.641 A 67.373 67.373 0 0 0 1145.699 123.06 A 79.435 79.435 0 0 0 1146.777 122.461 L 1150.391 140.625 A 65.701 65.701 0 0 1 1126.592 149.409 A 86.977 86.977 0 0 1 1112.012 150.586 A 72.276 72.276 0 0 1 1095.576 148.826 Q 1082.868 145.86 1074.012 137.896 A 45.553 45.553 0 0 1 1071.729 135.693 A 49.161 49.161 0 0 1 1059.522 113.318 Q 1057.53 105.592 1057.344 96.44 A 93.571 93.571 0 0 1 1057.324 94.531 A 78.107 78.107 0 0 1 1059.077 77.491 Q 1061.739 65.582 1068.44 56.782 A 48.099 48.099 0 0 1 1070.898 53.809 A 44.957 44.957 0 0 1 1098.628 39.259 A 64.32 64.32 0 0 1 1107.91 38.574 A 56.793 56.793 0 0 1 1122.272 40.288 A 39.382 39.382 0 0 1 1142.334 52.441 A 47.379 47.379 0 0 1 1152.937 73.629 A 69.838 69.838 0 0 1 1154.59 89.258 Q 1154.59 90.856 1154.545 94.355 A 1227.694 1227.694 0 0 1 1154.541 94.629 A 970.008 970.008 0 0 0 1154.52 96.362 Q 1154.493 98.721 1154.492 100.033 A 130.79 130.79 0 0 0 1154.492 100.098 Z M 302.539 81.348 L 302.539 75.684 A 33.67 33.67 0 0 0 302.184 70.611 Q 301.786 68.011 300.945 65.937 A 13.117 13.117 0 0 0 298.047 61.475 A 13.95 13.95 0 0 0 292.701 58.249 Q 289.18 57.031 284.375 57.031 A 60.41 60.41 0 0 0 274.175 57.977 Q 264.375 59.663 252.051 64.355 A 15.009 15.009 0 0 0 251.979 64.153 Q 251.623 63.158 249.576 57.526 A 16540.803 16540.803 0 0 0 248.828 55.469 Q 245.703 46.875 245.605 46.68 A 102.025 102.025 0 0 1 282.51 38.645 A 117.873 117.873 0 0 1 286.621 38.574 A 79.022 79.022 0 0 1 297.881 39.32 Q 311.075 41.225 318.164 47.998 Q 325.557 55.061 327.408 68.68 A 73.163 73.163 0 0 1 328.027 78.516 L 328.027 148.535 L 309.082 148.535 A 4.498 4.498 0 0 0 309.027 148.347 Q 308.771 147.516 307.42 143.454 A 2264.95 2264.95 0 0 0 306.934 141.992 A 566.916 566.916 0 0 1 306.453 140.544 Q 305.025 136.222 304.896 135.548 A 0.588 0.588 0 0 1 304.883 135.449 A 77.13 77.13 0 0 1 298.433 141.112 Q 294.929 143.84 291.492 145.745 A 42.438 42.438 0 0 1 289.209 146.924 A 35.521 35.521 0 0 1 280.725 149.67 Q 276.946 150.414 272.627 150.554 A 62.649 62.649 0 0 1 270.605 150.586 A 44.035 44.035 0 0 1 260.003 149.377 A 31.275 31.275 0 0 1 246.436 142.334 Q 237.207 134.082 237.207 118.555 Q 237.207 101.855 248.145 93.799 A 41.33 41.33 0 0 1 257.444 88.771 Q 266.714 85.089 280.273 83.682 A 139.313 139.313 0 0 1 281.152 83.594 A 335.022 335.022 0 0 1 284.302 83.203 A 417.84 417.84 0 0 1 287.695 82.813 A 307.517 307.517 0 0 1 291.369 82.428 Q 293.311 82.236 295.466 82.044 A 497.307 497.307 0 0 1 295.605 82.031 Q 298.97 81.732 301.247 81.49 A 144.07 144.07 0 0 0 302.539 81.348 Z M 687.608 148.057 A 86.272 86.272 0 0 0 709.082 150.586 A 90.057 90.057 0 0 0 725.475 149.16 A 62.082 62.082 0 0 0 760.059 130.957 A 61.529 61.529 0 0 0 764.807 125.353 Q 773.239 114.103 776.593 98.886 A 101.413 101.413 0 0 0 778.809 77.051 Q 778.809 42.383 760.156 22.9 A 60.757 60.757 0 0 0 730.647 5.934 A 86.607 86.607 0 0 0 709.18 3.418 A 90.607 90.607 0 0 0 691.849 4.998 A 62.094 62.094 0 0 0 658.105 22.852 Q 639.355 42.285 639.355 76.953 Q 639.355 90.453 642.223 101.668 A 64.856 64.856 0 0 0 658.057 131.006 A 60.88 60.88 0 0 0 687.608 148.057 Z M 957.324 148.535 L 931.738 148.535 L 931.738 41.211 L 953.223 41.211 L 956.543 57.617 A 36.918 36.918 0 0 1 966.619 46.718 Q 974.112 41.473 984.178 40.817 A 45.057 45.057 0 0 1 987.109 40.723 Q 989.865 40.723 991.948 40.891 A 30.406 30.406 0 0 1 993.945 41.113 L 993.555 62.5 A 54.27 54.27 0 0 0 985.981 61.916 A 59.794 59.794 0 0 0 985.449 61.914 Q 975.77 61.914 969.444 65.428 A 20.618 20.618 0 0 0 964.307 69.434 A 24.839 24.839 0 0 0 958.613 79.916 Q 957.566 83.708 957.37 88.214 A 48.64 48.64 0 0 0 957.324 90.332 L 957.324 148.535 Z M 677.734 115.43 A 34.382 34.382 0 0 0 698.846 128.046 A 52.887 52.887 0 0 0 709.18 129.004 A 50.877 50.877 0 0 0 721.731 127.548 A 33.782 33.782 0 0 0 740.576 115.479 A 45.097 45.097 0 0 0 748.003 100.925 Q 749.984 94.571 750.726 86.91 A 100.238 100.238 0 0 0 751.172 77.246 A 95.079 95.079 0 0 0 750.085 62.383 Q 747.778 47.836 740.576 38.477 A 34.236 34.236 0 0 0 718.997 25.568 A 52.22 52.22 0 0 0 709.277 24.707 A 49.73 49.73 0 0 0 696.442 26.266 A 33.993 33.993 0 0 0 677.783 38.525 A 46.553 46.553 0 0 0 670.197 53.619 Q 667.09 63.822 667.09 77.246 Q 667.09 94.32 672.213 106.082 A 42.692 42.692 0 0 0 677.734 115.43 Z M 1035.742 148.535 L 1010.156 148.535 L 1010.156 41.211 L 1035.742 41.211 L 1035.742 148.535 Z M 830.371 83.008 L 830.371 129.395 L 853.32 129.395 A 57.153 57.153 0 0 0 864.441 128.411 Q 881.892 124.933 883.603 109.145 A 33.216 33.216 0 0 0 883.789 105.566 Q 883.789 93.555 876.172 88.281 A 24.361 24.361 0 0 0 869.79 85.225 Q 863.639 83.229 854.658 83.03 A 91.336 91.336 0 0 0 852.637 83.008 L 830.371 83.008 Z M 830.371 24.902 L 830.371 64.551 L 853.027 64.551 A 50.569 50.569 0 0 0 862.595 63.729 Q 878.012 60.743 879.198 46.911 A 27.87 27.87 0 0 0 879.297 44.531 A 25.814 25.814 0 0 0 878.715 38.843 Q 877.921 35.332 876.044 32.828 A 13.496 13.496 0 0 0 871.729 29.102 Q 865.32 25.546 852.506 25.001 A 114.27 114.27 0 0 0 847.656 24.902 L 830.371 24.902 Z M 1083.594 83.984 L 1130.469 83.984 A 46.327 46.327 0 0 0 1129.887 76.397 Q 1128.607 68.701 1124.512 63.867 A 19.481 19.481 0 0 0 1111.802 57.083 A 28.124 28.124 0 0 0 1108.008 56.836 A 23.422 23.422 0 0 0 1098.012 58.939 A 23.04 23.04 0 0 0 1091.357 63.672 A 23.903 23.903 0 0 0 1086.146 71.852 Q 1084.769 75.335 1084.091 79.614 A 51.801 51.801 0 0 0 1083.594 83.984 Z M 302.441 117.871 L 302.441 97.168 A 3.158 3.158 0 0 0 302.297 97.174 Q 301.653 97.211 298.463 97.466 A 1657.02 1657.02 0 0 0 297.314 97.559 A 1250.434 1250.434 0 0 1 296.175 97.65 Q 292.432 97.949 292.09 97.949 A 101.17 101.17 0 0 0 284.012 98.965 Q 276.114 100.31 271.19 102.775 A 23.104 23.104 0 0 0 269.336 103.809 A 14.768 14.768 0 0 0 262.385 114.579 A 23.493 23.493 0 0 0 262.109 118.262 A 18.646 18.646 0 0 0 262.561 122.496 Q 263.454 126.328 266.113 128.76 A 13.008 13.008 0 0 0 271.151 131.563 Q 273.071 132.153 275.371 132.338 A 27.11 27.11 0 0 0 277.539 132.422 A 31.307 31.307 0 0 0 285.844 131.362 A 25.699 25.699 0 0 0 293.018 128.174 A 28.968 28.968 0 0 0 298.296 123.874 A 22.371 22.371 0 0 0 302.441 117.871 Z M 1035.84 25.586 L 1010.156 25.586 L 1010.156 3.711 L 1035.84 3.711 L 1035.84 25.586 Z"/></g>
        </animated.svg>
      </div>
      <h2 className={store.themeBoolean ? "header-web-text white" : "header-web-text black"}>Software Engineer</h2>
    </div>
  );
}
